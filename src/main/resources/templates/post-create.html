<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Создание объявления</title>
    <link rel="stylesheet" href="/css/styles.css" />
</head>
<body>

<h1>Новое объявление</h1>

<form th:action="@{/post/save}" th:object="${post}" method="post" enctype="multipart/form-data">
    <div>
        <label for="description">Описание:</label>
        <textarea id="description" name="description" rows="4" cols="50" required></textarea>
    </div>

    <div>
        <label for="price">Цена (₽):</label>
        <input type="number" id="price" name="price" min="0" required>
    </div>

    <div>
        <label for="isSold">Продано:</label>
        <input type="checkbox" id="isSold" name="isSold">
    </div>

    <!-- Машина -->
    <fieldset>
        <legend>Информация об автомобиле</legend>

        <div>
            <label for="mark">Марка:</label>
            <select id="mark" name="car.mark.id" required>
                <option th:each="mark : ${marks}"
                        th:value="${mark.id}"
                        th:text="${mark.name}">Марка</option>
            </select>
        </div>

        <div>
            <label for="model">Модель:</label>
            <select id="model" name="car.model.id" required>
                <option th:each="model : ${models}"
                        th:value="${model.id}"
                        th:text="${model.name}">Модель</option>
            </select>
        </div>

        <div>
            <label for="year">Год выпуска:</label>
            <select id="year" name="car.year" required>
                <option th:each="year : ${years}"
                        th:value="${year}"
                        th:text="${year}">2023</option>
            </select>
        </div>

        <div>
            <label for="engine">Двигатель:</label>
            <select id="engine" name="car.engine.id" required>
                <option th:each="engine : ${engines}"
                        th:value="${engine.id}"
                        th:text="${engine.name}">-</option>
            </select>
        </div>

        <div>
            <label for="author">Автор:</label>
            <select id="author" name="author.id" required>
                <option th:each="user : ${users}"
                        th:value="${user.id}"
                        th:text="${user.login}">Пользователь</option>
            </select>
        </div>

    </fieldset>

    <div>
        <label for="photos">Фотографии:</label>
        <input type="file" id="photos" name="files" multiple accept="image/*">
    </div>

    <div>
        <button type="submit">Сохранить</button>
    </div>
</form>

</body>
</html>
